@if (show) {
  <nz-card id="adaptive-overlay" class="overlayx" #adaptiveoverlay>
    <div class="adaptive-content">
      <h2>Adaptive Drill</h2>
      <p>Adaptive drills help you practice words you commonly misspell. Choose your difficulty level and drill length to get personalized practice words tailored to your typing patterns.</p>
      
      <div class="adaptive-settings">
        <div class="setting-row">
          <div class="setting-group">
            <label class="setting-label">Difficulty</label>
            <nz-select [(ngModel)]="selectedDifficulty" class="setting-select" nzPlaceHolder="Difficulty">
              @for (difficulty of drillDifficulties; track difficulty.value) {
                <nz-option [nzValue]="difficulty.value" [nzLabel]="difficulty.label"></nz-option>
              }
            </nz-select>
          </div>
          
          <div class="setting-group">
            <label class="setting-label">Length</label>
            <nz-select [(ngModel)]="selectedLength" class="setting-select" nzPlaceHolder="Length">
              @for (length of drillLengths; track length.value) {
                <nz-option [nzValue]="length.value" [nzLabel]="length.label"></nz-option>
              }
            </nz-select>
          </div>
        </div>
      </div>
      
      <div class="post-drill-btn-row">
        <span class="post-drill-btn" (click)="onViewErrorProneWords()" [class.disabled]="isLoadingErrorWords || isGeneratingAdaptive">
          @if (isLoadingErrorWords) {
            <span nz-icon nzType="loading" nzTheme="outline" style="font-size: 16px;"></span>
            <span class="button-text">Loading</span>
          } @else {
            <span nz-icon nzType="eye" nzTheme="outline" style="font-size: 16px;"></span>
            <span class="button-text">Recent Misspelled</span>
          }
        </span>
        <span class="post-drill-btn" (click)="onGenerateAdaptiveDrill()" [class.disabled]="isGeneratingAdaptive || isLoadingErrorWords">
          @if (isGeneratingAdaptive) {
            <span nz-icon nzType="loading" nzTheme="outline" style="font-size: 16px;"></span>
            <span class="button-text">Generating</span>
          } @else {
            <span nz-icon nzType="robot" nzTheme="outline" style="font-size: 16px;"></span>
            <span class="button-text">Generate</span>
          }
        </span>
      </div>
    </div>
  </nz-card>
} 