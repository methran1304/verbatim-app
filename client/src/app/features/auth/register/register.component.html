<div class="register-viewport">
  <div class="register-card">
    <div class="register-title">verbatim</div>
    <form
      nz-form
      [formGroup]="registerForm"
      (ngSubmit)="onSubmit()"
      class="register-form"
    >
      <input
        nz-input
        formControlName="username"
        placeholder="Username"
        [ngStyle]="{ color: isDarkMode ? '#F4F0F0' : '#282640' }"
        [nzStatus]="username?.invalid && (username?.dirty || username?.touched || submitted) ? 'error' : ''"
      />
      <input
        nz-input
        formControlName="emailAddress"
        placeholder="Email"
        [ngStyle]="{ color: isDarkMode ? '#F4F0F0' : '#282640' }"
        [nzStatus]="email?.invalid && (email?.dirty || email?.touched || submitted) ? 'error' : ''"
      />
      <input
        nz-input
        type="password"
        formControlName="password"
        placeholder="Password"
        [ngStyle]="{ color: isDarkMode ? '#F4F0F0' : '#282640' }"
        [nzStatus]="password?.invalid && (password?.dirty || password?.touched || submitted) ? 'error' : ''"
      />
      <input
        nz-input
        type="password"
        formControlName="confirmPassword"
        placeholder="Confirm Password"
        [ngStyle]="{ color: isDarkMode ? '#F4F0F0' : '#282640' }"
        [nzStatus]="(confirmPassword?.invalid && (confirmPassword?.dirty || confirmPassword?.touched || submitted)) || (registerForm.errors?.['passwordsDontMatch'] && (confirmPassword?.dirty || confirmPassword?.touched || submitted)) ? 'error' : ''"
      />
      <div class="register-links-row">
        <span class="login-link" (click)="onLogin()" [class.disabled-link]="loading" [attr.tabindex]="loading ? -1 : 0">Already a member?</span>
      </div>
      @if (getValidationMessage()) {
        <div class="validation-message">{{ getValidationMessage() }}</div>
      }
      <button
        nz-button
        nzType="primary"
        [disabled]="loading"
        [nzLoading]="loading"
        class="register-button"
        type="submit"
      >
        Register
      </button>
    </form>
  </div>
</div> 