<div class="reset-password-viewport">
  <!-- Logo in top left corner -->
  <div class="auth-logo">
    <button 
      class="logo-button"
      (click)="onLogoClick()">
      @if (isDarkMode) {
        <img src="assets/icons/logo-dark.png" alt="Verbatim Logo" class="logo-image">
      } @else {
        <img src="assets/icons/logo-light.png" alt="Verbatim Logo" class="logo-image">
      }
    </button>
  </div>

  <div class="reset-password-box">
    @if (!passwordReset) {
      <div class="reset-password-header">
        <header>Reset Password</header>
        <p>Enter your new password below</p>
      </div>

      <form [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()" class="reset-password-form">
        <div class="input-box">
          <input 
            type="password" 
            class="input-field" 
            id="newPassword" 
            formControlName="newPassword"
            autocomplete="new-password" 
            required
            [ngClass]="{'error': newPassword?.invalid && (newPassword?.dirty || newPassword?.touched || submitted)}"
          >
          <label for="newPassword">New Password</label>
        </div>

        <div class="input-box">
          <input 
            type="password" 
            class="input-field" 
            id="confirmPassword" 
            formControlName="confirmPassword"
            autocomplete="new-password" 
            required
            [ngClass]="{'error': confirmPassword?.invalid && (confirmPassword?.dirty || confirmPassword?.touched || submitted)}"
          >
          <label for="confirmPassword">Confirm Password</label>
        </div>

        <div class="validation-message" [class.has-error]="getValidationMessage()">{{ getValidationMessage() }}</div>

        <div class="input-box">
          <input type="submit" class="input-submit" value="Reset Password" [disabled]="loading">
        </div>
      </form>

      <div class="back-to-login">
        <p>Remember your password? <a (click)="onBackToLogin()" [class.disabled-link]="loading">Back to Login</a></p>
      </div>
    } @else {
      <div class="password-reset-content">
        <div class="password-reset-header">
          <header>Password Reset Successfully!</header>
          <p>Your password has been updated</p>
        </div>

        <div class="password-reset-message">
          <p>You can now log in with your new password. Please keep it secure and don't share it with anyone.</p>
        </div>

        <div class="password-reset-actions">
          <button class="input-submit" (click)="onBackToLogin()">Go to Login</button>
        </div>
      </div>
    }
  </div>

  <app-auth-footer></app-auth-footer>
</div>
